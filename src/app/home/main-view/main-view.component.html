<mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
<div class="mx-auto max-w-7xl px-2 sm:px-4 lg:px-8">
  <div class="md:flex md:items-center md:justify-between mt-5">
    <div class="min-w-0 flex-1">
      <h2 class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight">Top Artists of {{selectedCountry}}</h2>
    </div>
  </div>

  <mat-form-field appearance="fill" class="mt-4 w-180">
    <mat-label>Select an option</mat-label>
    <mat-select [(value)]="selectedCountry" (selectionChange)="updateList()">
      <mat-option *ngFor="let country of countries" value="{{country.name}}">{{country.code}} | {{country.name}}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-card class="w-180">
    <mat-card-header>
      <mat-card-subtitle>Artists</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content class="overflow-auto cursor-default">
      <mat-list>
        <mat-list-item *ngFor="let artist of topArtists" class="mb-3">
          <h2 class="list-avatar">
            <a class="avatar avatar-sm me-2" [routerLink]="'/detail-view/'+ artist.name">
              <img class="avatar-img rounded-circle" src="{{artist.image[1]['#text']}}" alt="Artist Image">
            </a>
            <a [routerLink]="'/detail-view/'+ artist.name" class="ml-3">{{artist.name}} <br> <span>listeners: {{artist.listeners}}</span></a>
          </h2>
        </mat-list-item>
      </mat-list>
    </mat-card-content>
  </mat-card>

</div>
